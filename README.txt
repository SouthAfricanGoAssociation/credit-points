Instructions for calculating points from this template folder:

0. Copy the contents of the template folder to a new folder
   (e.g. 2013_prelim, or 2012_final)

1. Update the year in data.txt

2. Replace open.txt with the points output of the previous year's execution
   of the points script.  (This would be in the file wagc_points.txt from
   the final version of the previous year's points calculation).

3. Replace the contents of rep.txt with representative information for
   the current year.
  
   The current tournaments to which representatives are sent are:
   * WAGC
   * KPMC
   
   In future the WMSG might also have representation. Check if this is the
   case before completing this step.

   The file format is as follows:
   <name>, <sponsorship>, <#times>, <placing>, <#participants>
   
   name          : Players name, in the order "first-name surname".
   sponsorship   : The level of sponsorship of the event, as a percentage.
		           This may change each year, so confirm before completing
		           this step.
   #times        : The number of times the representative has been chosen as
                   a representative (for all relevant tournaments), including
		   this time.
   placing       : The representative's final placing at the tournament.
   #participants : The total number of participants at the tournament.
   
4. Replace mem.txt with a list of SAGA members for the current year.
   Double-check to make sure no-one has been omitted.

   File format is simply a list of names, first name then surname,
   one name per line, no commas at the end of the lines.

5. Replace place.txt with the results of the SA Closed and its qualifiers.

   The first group is the SA Closed and SA Candidates, as follows:
     * The top 8 are the results of the SA Closed
     * The next four are the SA Candidates day 2 participants who didn't
       qualify for the SA Closed
       (i.e. the last 4 names on the results list for the SA Candidates day 2)
     * The next four are the SA Candidates day 1 participants who didn't
       qualify for day 2
       (i.e. the last 4 names on the results list for the SA Candidates day 1)
     * The format is each name on a single line, first name then surname
     * This group is followed by a single asterisk on its own line
   After this, each group is separated by a blank line, and starts with the
   name of the tournament on its own line, followed by the results, again
   each name on its own line, first name then surname. Note that these groups
   do not have asterisks after them.

6. Replace inet.txt with the results of the Internet tournaments.
   Note that tiebreaks are not resolved for these tournaments, so people
   drawn for places are on the same line in the file.
   
   Each tournament should be listed, with names (first name then surname) on
   a single line (except for tiebreaks). Tournaments are separated by
   asterisks on their own line. Note that the last group still has an
   asterisk under it.
   
   The first tournament of the year should be at the top, and the fourth at
   the bottom, by convention.

   Note that no non SAGA members should be allowed to play in internet
   tournaments, but this is often allowed on an ad-hoc basis to even out
   player numbers on the day. Technically, non SAGA members should be
   removed from this file, as they are not eligible for credit points, but
   in practice this is not necessary, as the python script ignores non-members.

7. Generate a new copy of games.txt by running

   "python make_input.py <year> <game_file>"

   year      : the year for which you are calculating points
   game_file : this is generated by the SAGC ranking system.

   To generate the game file you will use, get the list of all historical
   games on the rating system, which can be obtained from the SAGA ranking
   system administrator (currently Steve Kroon).  From this file, delete
   everything in the file up to the year you are generating credit points for
   (thus, the column headers, as well as the earlier games), and save the file
   again.  Use this new version as game_file when running the command above.

   Note, you must delete the header line, as this confuses the python script
   used here. You must also delete at least the games from 2004 and earlier,
   as the format changed sometime during 2004, and the earlier format confuses
   the python script used here. Deleting the other games from years before
   (and after) the one for which you are calculating the credit points merely
   speeds up execution of the python script, but the script would remove those
   games anyway.

   See Section 2.2.6 of the manual for more information.
   
   Note that this script strips out all non-ranked games. That is to say all games
   where the points multiplier is zero. The points multiplier is the last number on
   each line before the winning colour is given. For normal games this should 1,
   for tournament games this should be 1.5, and for non-ranked games this should
   be zero. The script simply omits all games where this is zero.

   Note also that the python script is not python 3 compatible, and requires
   python 2.7.

8. VERY IMPORTANT: Make sure the names in all the text files match, both in
   terms of spelling and capitalization.  Otherwise the point calculations
   will be incorrect.  For players already on the credit points system,
   you can get the correct spelling from open.txt.  For other players,
   you should use the names specified in the list of games.  This is quite
   a big schlep to do right, but it is a big source of problems with the
   calculations.

9. VERY IMPORTANT: Check that all placings in the SA Closed and participants
   in the internet tournaments are listed in the membership file.  If not,
   there has been a problem with the application of the tournament
   rules - liaise with the tournament portfolio.  Also check that the
   representatives to the international tournaments are listed in the
   membership file, and follow up if they are not.  At the end, the
   SA Closed and Internet tournament result files should have any
   non-members' names deleted before proceeding to the next step.
   
   Note that this only applies to the SA Closed results in place.txt.
   Non-members can safely be left in the results for the qualifying
   tournaments (anything below the asterisk).

   Also, as per note for step 6, non-members can be left in inet.txt

10. Execute: python wagc_points.py params.txt data.txt

    Note that the python script is not python 3 compatible, and requires
    python 2.7.

11. WARNING: Check how many new entries there are (compare number of lines
   in open.txt and wagc_points.txt), and identify them.  Some may be due to
   misspellings or mismatches between different text files.  If there is a
   problem, you should delete the recordsheets folder and wagc_points.txt,
   and go back to step 8.

   Note that any people who are not already on the credit points system but
   became members in the year for which you are calculating credit points
   will be in the new wagc_points.txt file, but not in the open.txt file.

12. The resulting points are in wagc_points.txt and each player's calculation
   details are in the folder recordsheets.  Put these files in a zip folder,
   and distribute for feedback or corrections.  Make a post on the website,
   and also email the relevant mailing lists, giving people one week to report
   errors, or the results will be treated as final.
